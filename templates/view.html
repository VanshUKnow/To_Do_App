<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ todo.title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <div>
                <a href="{{ url_for('index') }}" style="color: var(--text-secondary); font-size: 0.9rem;">&larr; Back to Dashboard</a>
                <h1>Task Details</h1>
            </div>
            
            <div style="display: flex; gap: 10px;">
                <a href="{{ url_for('edit', todo_id=todo.id) }}" class="btn btn-secondary">Edit Task</a>
            </div>
        </header>

        <div class="todo-detail-card">
            <div class="detail-header">
                <div class="detail-title-section">
                    <h2 class="detail-title">{{ todo.title }}</h2>
                    
                    <span class="status-badge {% if todo.completed %}completed{% endif %}">
                        {% if todo.completed %}âœ“ Completed{% else %}Pending{% endif %}
                    </span>
                </div>
            </div>

            <div class="detail-grid">
                <div class="detail-item">
                    <span class="detail-label">Description</span>
                    <p class="detail-value" style="margin-top: 8px;">
                        {{ todo.description or 'No description provided.' }}
                    </p>
                </div>

                <div class="detail-item">
                    <span class="detail-label">Properties</span>
                    <div style="margin-top: 12px; display: flex; flex-direction: column; gap: 8px;">
                        <div>
                            <strong>Priority:</strong> 
                            <span style="color: var(--{% if todo.priority == 'high' %}danger{% elif todo.priority == 'medium' %}warning{% else %}primary{% endif %})">
                                {{ todo.priority|capitalize }}
                            </span>
                        </div>
                        <div>
                            <strong>Due Date:</strong> 
                            {{ todo.due_date or 'No date set' }}
                        </div>
                        <div>
                            <strong>Created:</strong> 
                            {{ todo.created_at[:10] }}
                        </div>
                    </div>
                </div>
            </div>

            <div class="detail-actions">
                <a href="{{ url_for('toggle', todo_id=todo.id) }}" class="btn {% if todo.completed %}btn-secondary{% else %}btn-success{% endif %}">
                    {% if todo.completed %}Mark as Pending{% else %}Mark as Complete{% endif %}
                </a>
                
                <a href="{{ url_for('delete', todo_id=todo.id) }}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this task? This cannot be undone.')">
                    Delete Task
                </a>
            </div>
        </div>
    </div>
</body>
</html>